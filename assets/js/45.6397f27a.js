(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{296:function(t,e,i){"use strict";i.r(e);var a=i(0),s=Object(a.a)({},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),i("ul",[i("li",[i("a",{attrs:{href:"https://github.com/angular/angular",target:"_blank",rel:"noopener noreferrer"}},[t._v("angular"),i("OutboundLink")],1)]),t._v(" "),i("li",[i("a",{attrs:{href:"https://github.com/cpselvis/commit-message-test-project",target:"_blank",rel:"noopener noreferrer"}},[t._v("commit-message-test-project"),i("OutboundLink")],1)]),t._v(" "),i("li",[i("a",{attrs:{href:"https://github.com/istanbuljs/babel-plugin-istanbul",target:"_blank",rel:"noopener noreferrer"}},[t._v("babel-plugin-istanbul"),i("OutboundLink")],1)]),t._v(" "),i("li",[i("a",{attrs:{href:"https://github.com/conventional-changelog/conventional-changelog",target:"_blank",rel:"noopener noreferrer"}},[t._v("conventional-changelog"),i("OutboundLink")],1)])]),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),i("p",[t._v("接入参考"),i("a",{attrs:{href:"https://github.com/feflow/git-commit-style-guide",target:"_blank",rel:"noopener noreferrer"}},[t._v("git-commit-style-guide"),i("OutboundLink")],1),t._v("项目。具体步骤如下：")]),t._v(" "),t._m(17),t._v(" "),t._m(18),t._m(19),t._v(" "),t._m(20),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._m(24),t._v(" "),t._m(25),i("p",[t._v("如下图所示：")]),t._v(" "),t._m(26),t._v(" "),t._m(27),t._v(" "),t._m(28),t._m(29),t._v(" "),t._m(30)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"git-commit-规范"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git-commit-规范","aria-hidden":"true"}},[this._v("#")]),this._v(" Git Commit 规范")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://img.shields.io/packagist/l/doctrine/orm.svg?longCache=true&style=flat-square",alt:"Packagist"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"目的"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#目的","aria-hidden":"true"}},[this._v("#")]),this._v(" 目的")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("strong",[this._v("统一团队 "),e("code",[this._v("Git commit")]),this._v(" 日志标准，便于后续代码 review，版本发布以及日志自动化生成等等")]),this._v("。")]),this._v(" "),e("li",[e("strong",[this._v("统一团队的 Git 工作流，包括分支使用、tag 规范、issue 等")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"git-commit-日志参考案例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git-commit-日志参考案例","aria-hidden":"true"}},[this._v("#")]),this._v(" Git commit 日志参考案例")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"总体方案"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#总体方案","aria-hidden":"true"}},[this._v("#")]),this._v(" 总体方案")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://qpic.url.cn/feeds_pic/ajNVdqHZLLCpvFZPtnvcJqSMdTibu431pj6JGibiaiaJr6j1eEMLbTP62A/",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"git-commit日志基本规范"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git-commit日志基本规范","aria-hidden":"true"}},[this._v("#")]),this._v(" Git commit日志基本规范")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("<type>(<scope>): <subject>\n<BLANK LINE>\n<body>\n<BLANK LINE>\n<footer>\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("所有的 type 类型如下：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("type代表某次提交的类型，比如是修复一个bug还是增加一个新的feature。")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",[i("li",[t._v("feat： 新增 feature")]),t._v(" "),i("li",[t._v("fix: 修复 bug")]),t._v(" "),i("li",[t._v("docs: 仅仅修改了文档，比如 README, CHANGELOG, CONTRIBUTE等等")]),t._v(" "),i("li",[t._v("style: 仅仅修改了空格、格式缩进、逗号等等，不改变代码逻辑")]),t._v(" "),i("li",[t._v("refactor: 代码重构，没有加新功能或者修复 bug")]),t._v(" "),i("li",[t._v("perf: 优化相关，比如提升性能、体验")]),t._v(" "),i("li",[t._v("test: 测试用例，包括单元测试、集成测试等")]),t._v(" "),i("li",[t._v("chore: 改变构建流程、或者增加依赖库、工具等")]),t._v(" "),i("li",[t._v("revert: 回滚到上一个版本")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("格式要求：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("# 标题行：50个字符以内，描述主要变更内容\n#\n# 主体内容：更详细的说明文本，建议72个字符以内。 需要描述的信息包括:\n#\n# * 为什么这个变更是必须的? 它可能是用来修复一个bug，增加一个feature，提升性能、可靠性、稳定性等等\n# * 他如何解决这个问题? 具体描述解决问题的步骤\n# * 是否存在副作用、风险?\n#\n# 尾部：如果需要的化可以添加一个链接到issue地址或者其它文档，或者关闭某个issue。\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"git分支与版本发布规范"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git分支与版本发布规范","aria-hidden":"true"}},[this._v("#")]),this._v(" Git分支与版本发布规范")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",[i("li",[t._v("基本原则：master为保护分支，不直接在master上进行代码修改和提交。")]),t._v(" "),i("li",[t._v("开发日常需求或者项目时，从master分支上checkout一个feature分支进行开发或者bugfix分支进行bug修复，功能测试完毕并且项目发布上线后，"),i("code",[t._v("将feature分支合并到主干master，并且打Tag发布，最后删除开发分支")]),t._v("。分支命名规范：\n"),i("ul",[i("li",[t._v("分支版本命名规则：分支类型 _ 分支发布时间 _ 分支功能。比如：feature_20170401_fairy_flower")]),t._v(" "),i("li",[t._v("分支类型包括：feature、 bugfix、refactor三种类型，即新功能开发、bug修复和代码重构")]),t._v(" "),i("li",[t._v("时间使用年月日进行命名，不足2位补0")]),t._v(" "),i("li",[t._v("分支功能命名使用snake case命名法，即下划线命名。")])])]),t._v(" "),i("li",[t._v("Tag包括3位版本，前缀使用v。比如v1.2.31。Tag命名规范：\n"),i("ul",[i("li",[t._v("新功能开发使用第2位版本号，bug修复使用第3位版本号")]),t._v(" "),i("li",[t._v("核心基础库或者Node中间价可以在大版本发布请使用灰度版本号，在版本后面加上后缀，用中划线分隔。alpha或者belta后面加上次数，即第几次alpha：\n"),i("ul",[i("li",[t._v("v2.0.0-alpha.1")]),t._v(" "),i("li",[t._v("v2.0.0-belta.1")])])])])]),t._v(" "),i("li",[t._v("版本正式发布前需要生成changelog文档，然后再发布上线。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"如何接入？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如何接入？","aria-hidden":"true"}},[this._v("#")]),this._v(" 如何接入？")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("第一步：在工程跟目录下的package.json文件加入如下代码所示的scripts和dependencies内容，版本号为3位版本号。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('  {\n    "name": "application-name",\n    "version": "0.1.0",\n    "scripts": {\n      "commitmsg": "validate-commit-msg",\n      "commit": "git-cz ",\n      "changelog": "conventional-changelog -p angular -i CHANGELOG.md -s -r 0"\n    },\n    "devDependencies": {\n      "commitizen": "^2.3.0",\n      "validate-commit-msg": "^2.11.1",\n      "conventional-changelog-cli": "^1.2.0",\n      "husky": "^0.13.1"\n    }\n  }\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("第二步：在工程根目录新建.vcmrc文件，并且文件内容为")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('{\n  "helpMessage": "\\nPlease fix your commit message (and consider using https://www.npmjs.com/package/commitizen)\\n",\n  "types": [\n    "feat",\n    "fix",\n    "docs",\n    "style",\n    "refactor",\n    "perf",\n    "test",\n    "chore",\n    "revert"\n  ],\n  "warnOnFail": false,\n  "autoFix": false\n}\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"接入后的git-commit操作流程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#接入后的git-commit操作流程","aria-hidden":"true"}},[this._v("#")]),this._v(" 接入后的Git commit操作流程")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("第一步：创建一个feature分支或者bugfix分支")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("  $ git checkout -b feature_infinite_load    # 切换到一个feature分支或者bug fix分支\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("第二步：将代码提交到本地Git仓库，并填写符合要求的Commit message格式")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("  $ git add .\n  $ git commit                               # 此处不要加任何参数，比如-m\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"http://images2015.cnblogs.com/blog/1030776/201703/1030776-20170304153136563-2126734467.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("第三步：将代码同步到远程Git仓库")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("  $ git push origin feature_infinite_load    # 将修改发布到远程仓库\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("第四步：自动生成changelog，并打Tag发布")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("  $ tnpm run changelog                    # 使用npm script中的changlog命令直接从git元数据生成日志。\n  $ git tag v0.1.0\n  $ git push origin v0.1.0\n")])])])}],!1,null,null,null);e.default=s.exports}}]);