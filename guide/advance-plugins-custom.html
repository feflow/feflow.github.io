<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Customed Plugin | Feflow</title>
    <meta name="description" content="">
    <link rel="icon" href="/favicon-196x196.png" sizes="196x196">
  <link rel="icon" href="/favicon-160x160.png" sizes="160x160">
  <link rel="icon" href="/favicon-96x96.png" sizes="96x96">
  <link rel="icon" href="/favicon-32x32.png" sizes="32x32">
  <link rel="icon" href="/favicon-16x16.png" sizes="16x16">
    
    <link rel="preload" href="/assets/css/0.styles.4feca770.css" as="style"><link rel="preload" href="/assets/js/app.90203948.js" as="script"><link rel="preload" href="/assets/js/13.997ec489.js" as="script"><link rel="prefetch" href="/assets/js/10.b1d70fe4.js"><link rel="prefetch" href="/assets/js/11.74cc352b.js"><link rel="prefetch" href="/assets/js/12.ca5c101c.js"><link rel="prefetch" href="/assets/js/14.21174da6.js"><link rel="prefetch" href="/assets/js/15.84935e02.js"><link rel="prefetch" href="/assets/js/16.ddb4ff3d.js"><link rel="prefetch" href="/assets/js/17.ac85601f.js"><link rel="prefetch" href="/assets/js/18.5c124358.js"><link rel="prefetch" href="/assets/js/19.f95946e9.js"><link rel="prefetch" href="/assets/js/2.76846168.js"><link rel="prefetch" href="/assets/js/20.8d689b1b.js"><link rel="prefetch" href="/assets/js/21.3a3c8572.js"><link rel="prefetch" href="/assets/js/22.d0dba7f0.js"><link rel="prefetch" href="/assets/js/23.29fcd762.js"><link rel="prefetch" href="/assets/js/24.ed218c7f.js"><link rel="prefetch" href="/assets/js/25.81a359f0.js"><link rel="prefetch" href="/assets/js/26.3a3dcf58.js"><link rel="prefetch" href="/assets/js/27.96ee5e19.js"><link rel="prefetch" href="/assets/js/28.004ae6c2.js"><link rel="prefetch" href="/assets/js/29.b57ca005.js"><link rel="prefetch" href="/assets/js/3.6ec9936c.js"><link rel="prefetch" href="/assets/js/30.bcd96b84.js"><link rel="prefetch" href="/assets/js/31.76a17541.js"><link rel="prefetch" href="/assets/js/32.6e145c1f.js"><link rel="prefetch" href="/assets/js/33.15bced8e.js"><link rel="prefetch" href="/assets/js/34.1eef0da9.js"><link rel="prefetch" href="/assets/js/35.36962af8.js"><link rel="prefetch" href="/assets/js/36.a7591154.js"><link rel="prefetch" href="/assets/js/37.2f89b937.js"><link rel="prefetch" href="/assets/js/38.3f74f886.js"><link rel="prefetch" href="/assets/js/39.db88fb47.js"><link rel="prefetch" href="/assets/js/4.85403bf4.js"><link rel="prefetch" href="/assets/js/40.a11fa54d.js"><link rel="prefetch" href="/assets/js/41.fbd65ab7.js"><link rel="prefetch" href="/assets/js/42.4d09f079.js"><link rel="prefetch" href="/assets/js/43.d2b4d8f4.js"><link rel="prefetch" href="/assets/js/44.1c8c9a2a.js"><link rel="prefetch" href="/assets/js/45.6397f27a.js"><link rel="prefetch" href="/assets/js/46.b1041973.js"><link rel="prefetch" href="/assets/js/47.8c8d9ff4.js"><link rel="prefetch" href="/assets/js/5.51ee3184.js"><link rel="prefetch" href="/assets/js/6.9bd7f8c3.js"><link rel="prefetch" href="/assets/js/7.b3eaf0fd.js"><link rel="prefetch" href="/assets/js/8.eeff9dc8.js"><link rel="prefetch" href="/assets/js/9.5e80fa39.js">
    <link rel="stylesheet" href="/assets/css/0.styles.4feca770.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div data-v-4234d345><header style="background-color:rgba(255, 255, 255, 1);box-shadow:0px 2px 30px 0px rgba(0, 0, 0, 0.1);" data-v-2e608884 data-v-4234d345><nav data-v-2e608884><a href="/" class="router-link-active" data-v-2e608884><img src="data:image/png;base64,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" alt="logo" data-v-2e608884></a> <ul class="navs" data-v-2e608884><li class="nav" data-v-2e608884><a href="/guide/" class="router-link-active nav__link--white" style="color:rgba(102, 102, 102, 1);" data-v-2e608884>Guide</a></li><li class="nav" data-v-2e608884><a href="/encology/" class="nav__link--white" style="color:rgba(102, 102, 102, 1);" data-v-2e608884>Encology</a></li><li class="nav" data-v-2e608884><a href="/experience/" class="nav__link--white" style="color:rgba(102, 102, 102, 1);" data-v-2e608884>Experience</a></li><li class="nav" data-v-2e608884><a href="/example/" class="nav__link--white" style="color:rgba(102, 102, 102, 1);" data-v-2e608884>Example</a></li><li class="nav" data-v-2e608884><a href="/active/" class="nav__link--white" style="color:rgba(102, 102, 102, 1);" data-v-2e608884>News</a></li><li class="nav" data-v-2e608884><a href="https://github.com/feflow/feflow/releases" target="_blank" rel="noopener noreferrer" class="nav__link--white" style="color:rgba(102, 102, 102, 1);" data-v-2e608884>Changelog</a></li></ul> <ul class="tools" data-v-2e608884><li data-v-2e608884><a href="/zh/guide/advance-plugins-custom.html" class="nav__lang--white" style="color:rgba(102, 102, 102, 1);" data-v-2e608884>简体中文</a></li></ul></nav></header> <div class="layout__content" data-v-4234d345><section class="guide" data-v-690e3ed2 data-v-4234d345><aside class="guide__aside" data-v-690e3ed2></aside> <main class="guide__main" data-v-690e3ed2><div class="content" data-v-690e3ed2><h1 id="customed-plugin"><a href="#customed-plugin" aria-hidden="true" class="header-anchor">#</a> Customed Plugin</h1> <p>Feflow is powerful because of its design of plugin system. You can regard it as a ecosystem with a core and a lot of plugins.</p> <h2 id="develop-a-feflow-plugin"><a href="#develop-a-feflow-plugin" aria-hidden="true" class="header-anchor">#</a> Develop a Feflow plugin</h2> <p><strong>It is very easy to develop a Feflow plugin. Any program can become a Feflow plugin.</strong></p> <p>Developing a Feflow plugin is the same as addition commands to Feflow. For example, you can add a <code>add</code> command to Feflow. Implement a add caculation for Feflow.</p> <div class="language-sh extra-class"><pre class="language-text"><code>feflow add 1 2 3
# Output: 6
</code></pre></div><p>Next, let us use this example to explain how to develop a Feflow plugin.</p> <h2 id="create-a-project"><a href="#create-a-project" aria-hidden="true" class="header-anchor">#</a> Create a project</h2> <p>Create a directory named <code>feflow-plugin-example</code>. And use <code>npm init</code> to initialize it.</p> <p><strong>Attention. All the plugin projects should start with <code>feflow-plugin-</code>. And the <code>name</code> field in <code>package.json</code> should be the same as directory name</strong></p> <h2 id="write-code"><a href="#write-code" aria-hidden="true" class="header-anchor">#</a> Write code</h2> <p>Create a <code>index.js</code> file. Implement addition caculation. Currently you don't need to think about things related Feflow plugin. You just need to finish your code.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * Add caculation
 * @param  {Array} args Some numbers needed to be add
 * @return {number} Result of sum
 */</span>
<span class="token keyword">function</span> <span class="token function">add</span> <span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> sum <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span> item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> sum <span class="token operator">+</span> item
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span>
    <span class="token keyword">return</span> sum
<span class="token punctuation">}</span>
</code></pre></div><h2 id="register-the-command"><a href="#register-the-command" aria-hidden="true" class="header-anchor">#</a> Register the command</h2> <p>When the code is finished, now we need to make the program become a Feflow plugin. Which is register a <code>add</code> command to Feflow.</p> <div class="language-js extra-class"><pre class="language-js"><code>feflow<span class="token punctuation">.</span>cmd<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'add'</span><span class="token punctuation">,</span> <span class="token string">'Add caculator'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// args is the arguments after add which is resolved by minimist</span>
    <span class="token comment">// For example, in `feflow add 1 2 3` args is { _: [1, 2, 3] }，</span>
    <span class="token comment">// For another example, in `feflow add -x 1 -y 2 --z-value 3 4 5 6` args is { _: [ 4, 5, 6 ], x: 1, y: 2, 'z-value': 3 }</span>
    <span class="token comment">// Call the main function</span>
    <span class="token function">add</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>_<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>You don't need to worry about <code>feflow</code> didn't decalre or require this module. When Feflow use this plugin, it will automatically inject <code>feflow</code> variable to the global context in <strong>entry file</strong>(which is decided by <code>main</code> field in <code>package.json</code>, in this example it is <code>index.js</code>).</p> <p><code>feflow.cmd.register</code> receives 3 arguments：</p> <ul><li>The first one is the name of command added to Feflow.</li> <li>The second one is the description of command.（Which will show up in <code>feflow --help</code>）</li> <li>The third one is the excution funciton related to the new command.</li></ul> <p>When the function is called, Feflow will pass a <code>args</code>. This is a object includes all the arguments after the command when Feflow run this command. For example, when we run <code>feflow add 1 2 3</code>, args is <code>{ _: [1, 2, 3] }</code>.</p> <h2 id="debug-the-plugin"><a href="#debug-the-plugin" aria-hidden="true" class="header-anchor">#</a> Debug the plugin</h2> <p>Now you have finished a plugin. The whole code can be found <a href="https://github.com/feflow/feflow-plugin-example/tree/e21b0b5c5f5b860e78e5d914f4ce4ccf366eee8d" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. You might want to try it at once. No need to hurry. We will do it step by step.</p> <ol><li>Run <code>npm link</code> to link the plugin to global.</li> <li>Run <code>cd ~/.feflow</code> to enter Feflow main directory.</li> <li>Run <code>npm link feflow-plugin-example</code> to install the plugin into Feflow main directory.</li> <li>Edit <code>~/.feflow/package.json</code> file（You can use <code>vi ~/.feflow/package.json</code> to edit it），Add <code>&quot;feflow-plugin-example&quot;: &quot;1.0.0&quot;</code> to <code>dependencies</code> field.</li> <li>Run <code>feflow add 1 2 3</code> to use the plugin。</li></ol> <h2 id="publish-the-plugin"><a href="#publish-the-plugin" aria-hidden="true" class="header-anchor">#</a> Publish the plugin</h2> <p>After finishing your plugin, the next thing is to publish the plugin. You can publish it to NPM or private NPM repository. If you want to publish it to private repository, you need to configure the <code>register</code> and <code>proxy</code> of Feflow. You can visit <a href="./base-plugins-inner">Plugin</a> for more.</p> <p>After publishing, you can use <code>feflow install</code> to install this plugin.</p> <h2 id="plugin-context"><a href="#plugin-context" aria-hidden="true" class="header-anchor">#</a> Plugin context</h2> <p>Though your plugin can work now, there are still some details which can be optimized.</p> <p><code>feflow</code> as a global variable provide many other functions. These functions help you to combine you plugin with Feflow more perfectly. We regard this variable as context of plugin. It is accessable to any property in Feflow instance.</p> <p>We still take <code>feflow-plugin-example</code> as an example. In <code>add</code> function, we use <code>console.log</code> to print result of calculation. If you want to make your plugin more graceful, you can try <code>feflow.log.info</code> to replace it. The plugin context provide API which obey the rule of Feflow console output rule. By this way plugin can provide the same user experience as Feflow.</p> <div class="language- extra-class"><pre class="language-text"><code>const log = feflow.log;
log.info()    // Information log. Console show `Feflow INFO [content]`. `Feflow INFO` is in green color.
log.debug()   // Debug log. You need to add `--debug` to the command to show this log. Console show `Feflow DEBUG [content]`. `Feflow DEBUG` is in grey color.
log.warn()    // Warning log. Console show `Feflow WARN [content]`. `Feflow WARN` is in yellow background.
log.error()   // Error log. Console show `Feflow ERROR [content]`. `Feflow ERROR` is in red background.
log.fatal()   // Fatal log. Console show `Feflow FATAL [content]`. `Feflow FATAL` is in red background.
</code></pre></div><p>More method and properties can be found in <a href="/guide/advance-plugins-context.html">Plugin Context</a></p> <h3 id="non-entry-file-use-plugin-context"><a href="#non-entry-file-use-plugin-context" aria-hidden="true" class="header-anchor">#</a> Non-entry file use plugin context</h3> <p>In the example above, we can directly use plugin context in entry file <code>index.js</code>. However, if you try to directly use it in non-entry file, an error will show up. So you need to pass arguments to different modules.</p> <p>For example, now we create a new file named <code>add.js</code>. And we move the <code>add</code> function from <code>index.js</code> to the new file. It will become the code below.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// add.js</span>
<span class="token comment">// The whole module recieve a plugin context argument</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">add</span> <span class="token punctuation">(</span>feflow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Original function</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> sum <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span> item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> sum <span class="token operator">+</span> item
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

        feflow<span class="token punctuation">.</span>log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span>
        <span class="token keyword">return</span> sum
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// index.js</span>
<span class="token comment">// Pass plugin context through arguments</span>
<span class="token keyword">const</span> add <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./add'</span><span class="token punctuation">)</span><span class="token punctuation">(</span>feflow<span class="token punctuation">)</span>
<span class="token comment">// Register the add command</span>
feflow<span class="token punctuation">.</span>cmd<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'add'</span><span class="token punctuation">,</span> <span class="token string">'Addition caculator'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">add</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>_<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>You can visit the modulized code <a href="https://github.com/feflow/feflow-plugin-example/tree/36127e14a6bc7ea0cd696a35f4b59255349d19bc" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="register-mutiple-commands"><a href="#register-mutiple-commands" aria-hidden="true" class="header-anchor">#</a> Register mutiple commands</h2> <p>A plugin can support mutiple commands. So we can make <code>feflow-plugin-example</code> more functional. We will make it support all four fundamental operations.</p> <p>Finally, you can visit <a href="https://github.com/feflow/feflow-plugin-example" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to see our final plugin.</p></div></main></section></div> <footer class="footer" data-v-0ac59e36 data-v-4234d345><div class="footer__links" data-v-0ac59e36><ul class="links standard-container" data-v-3544c71c data-v-0ac59e36><li class="links__item links__title" data-v-3544c71c>Links</li> <li class="links__item" data-v-3544c71c><a href="https://opensource.tencent.com/en" target="_blank" data-v-3544c71c>Tencent OpenSource</a></li></ul></div> <div class="footer__copyright" data-v-0ac59e36><div class="copyright standard-container" data-v-e11bbbb2 data-v-0ac59e36><div class="copyright__text" data-v-e11bbbb2><p data-v-e11bbbb2>© 2019 Feflow.js</p> <p data-v-e11bbbb2>Documentation licensed under MIT.</p></div> <div class="copyright__group" data-v-e11bbbb2><i class="copyright__wechat" data-v-e11bbbb2></i> <a href="https://github.com/feflow/feflow/" target="_blank" class="copyright__github" data-v-e11bbbb2></a></div></div></div></footer></div></div>
    <script src="/assets/js/app.90203948.js" defer></script><script src="/assets/js/13.997ec489.js" defer></script>
  </body>
</html>
